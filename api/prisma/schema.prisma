generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model TrailInfo {
  ID          Int     @id(map: "PK_TrailInfo") @default(autoincrement())
  ImageID     String? @db.VarChar(50)
  Pitch       Float?
  Yaw         Float?
  HoverText   String? @db.Text
  TargetPitch Float?
  TargetYaw   Float?
  TargetHFOV  Float?
  CSSClass    String? @db.Text
}

model AdminAccount {
  Id       Int       @id @default(autoincrement())
  Username String    @unique
  Password String
  Session  Session[]
}

model Session {
  Id             String       @id
  AdminAccountId Int
  createdAt      DateTime     @default(now())
  AdminAccount   AdminAccount @relation(fields: [AdminAccountId], references: [Id])
}

model Image {
  id                String   @id @db.VarChar(50)
  originalLatitude  Float
  originalLongitude Float
  latitude          Float
  longitude         Float
  bearing           Float
  flipped           Boolean
  shtHash           String
  pitchCorrection   Float
  visibility        Boolean
  sequenceId        Int
  sequence          Sequence @relation(fields: [sequenceId], references: [id])
}

model Sequence {
  name     String   @unique
  status   String?  @db.Text
  toDelete Boolean  @default(false)
  id       Int      @id @default(autoincrement())
  images   Image[]
}
